/* =============================================
   TYPOGRAPHY — SYSTEM
   Branch: typography-system
   ============================================= */

/* =============================================
   DESIGN TOKEN SYSTEM
   All design decisions live here as CSS custom properties.
   Change a token and the whole page updates.
   ============================================= */
:root {
  /* FONTS */
  --font-heading: 'Inter', system-ui, sans-serif;
  --font-body: 'Inter', system-ui, sans-serif;
  --font-mono: 'Fira Code', 'Cascadia Code', Consolas, monospace;

  /* TYPE SCALE — fluid using clamp() */
  --text-4xl: clamp(2rem, 5vw + 1rem, 4rem);
  --text-3xl: clamp(1.5rem, 3vw + 0.75rem, 2.5rem);
  --text-2xl: clamp(1.25rem, 2vw + 0.75rem, 1.875rem);
  --text-xl:  clamp(1.125rem, 1.5vw + 0.5rem, 1.5rem);
  --text-lg:  1.125rem;
  --text-base: 1rem;
  --text-sm:  0.875rem;
  --text-xs:  0.75rem;

  /* LINE HEIGHTS */
  --leading-tight:  1.2;
  --leading-snug:   1.4;
  --leading-normal: 1.65;
  --leading-loose:  1.9;

  /* LETTER SPACINGS */
  --tracking-tighter: -0.04em;
  --tracking-tight:   -0.025em;
  --tracking-normal:  0;
  --tracking-wide:    0.06em;
  --tracking-wider:   0.1em;

  /* FONT WEIGHTS */
  --weight-thin:      100;
  --weight-light:     300;
  --weight-regular:   400;
  --weight-medium:    500;
  --weight-semibold:  600;
  --weight-bold:      700;
  --weight-extrabold: 800;
  --weight-black:     900;

  /* SPACING */
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-12: 3rem;

  /* COLOURS */
  --color-bg: #f8fafc;
  --color-surface: #ffffff;
  --color-border: #e2e8f0;
  --color-text: #1e293b;
  --color-text-secondary: #64748b;
  --color-text-tertiary: #94a3b8;
  --color-accent: #3b82f6;
  --radius: 0.75rem;
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: var(--font-body); font-size: var(--text-base); line-height: var(--leading-normal); background: var(--color-bg); color: var(--color-text); }
h1, h2, h3, h4, h5, h6 { font-family: var(--font-heading); line-height: var(--leading-tight); }
code { font-size: 0.875em; background: rgba(99,102,241,0.08); color: #4f46e5; padding: 0.1em 0.4em; border-radius: 0.25rem; font-family: var(--font-mono); }
strong { font-weight: var(--weight-bold); }
em { font-style: italic; }
mark { background: #fef08a; padding: 0.1em 0.2em; border-radius: 0.2em; }
del { color: var(--color-text-secondary); }

.skip-link { position: absolute; left: 1rem; top: 1rem; padding: 0.5rem 1rem; background: var(--color-accent); color: white; border-radius: 4px; z-index: 9999; transform: translateY(-200%); transition: transform 0.2s ease; }
.skip-link:focus { transform: translateY(0); }

.page-header { max-width: 960px; margin: 0 auto; padding: var(--space-12) var(--space-8) var(--space-6); }
.page-header h1 { font-size: var(--text-3xl); margin-bottom: var(--space-2); letter-spacing: var(--tracking-tight); }
.page-header p { color: var(--color-text-secondary); }
.page-main { max-width: 960px; margin: 0 auto; padding: 0 var(--space-8) var(--space-12); display: flex; flex-direction: column; gap: var(--space-12); }
.site-footer { border-top: 1px solid var(--color-border); padding: var(--space-8); text-align: center; color: var(--color-text-secondary); font-size: var(--text-sm); }

.card { background: var(--color-surface); border-radius: var(--radius); padding: var(--space-6); box-shadow: var(--shadow-sm); }
.demo-section { display: flex; flex-direction: column; gap: var(--space-4); }
.demo-section h2 { font-size: 1.1rem; border-bottom: 2px solid var(--color-border); padding-bottom: var(--space-2); }
.demo-section > p { color: var(--color-text-secondary); font-size: var(--text-sm); }

/* =============================================
   EXERCISE 1: VARIABLE FONT
   ============================================= */
.vf-radio { display: none; }
.vf-demo { display: flex; flex-direction: column; gap: 1.25rem; }

.vf-controls { display: flex; gap: 0.5rem; flex-wrap: wrap; }
.vf-btn {
  padding: 0.3rem 0.75rem; border-radius: 0.5rem;
  background: var(--color-bg); border: 1.5px solid var(--color-border);
  font-size: var(--text-sm); font-weight: 600; cursor: pointer;
  transition: background 0.15s, border-color 0.15s;
}
.vf-btn:hover { border-color: var(--color-accent); color: var(--color-accent); }

/* Active button */
#vf-100:checked ~ .vf-controls label[for="vf-100"],
#vf-300:checked ~ .vf-controls label[for="vf-300"],
#vf-400:checked ~ .vf-controls label[for="vf-400"],
#vf-600:checked ~ .vf-controls label[for="vf-600"],
#vf-700:checked ~ .vf-controls label[for="vf-700"],
#vf-900:checked ~ .vf-controls label[for="vf-900"] {
  background: var(--color-accent); color: white; border-color: var(--color-accent);
}

/* Weight values applied via font-variation-settings */
.vf-sample {
  font-size: clamp(1rem, 2vw, 1.25rem);
  line-height: 1.8;
  transition: font-variation-settings 0.3s ease;
  /* Default weight: 400 */
  font-variation-settings: 'wght' var(--weight-regular);
}

#vf-100:checked ~ .vf-sample { font-variation-settings: 'wght' 100; }
#vf-300:checked ~ .vf-sample { font-variation-settings: 'wght' 300; }
#vf-400:checked ~ .vf-sample { font-variation-settings: 'wght' 400; }
#vf-600:checked ~ .vf-sample { font-variation-settings: 'wght' 600; }
#vf-700:checked ~ .vf-sample { font-variation-settings: 'wght' 700; }
#vf-900:checked ~ .vf-sample { font-variation-settings: 'wght' 900; }

/* =============================================
   EXERCISE 2: TOKEN TABLE
   ============================================= */
.token-table { display: flex; flex-direction: column; gap: 1rem; }
.token-table h3 { font-size: var(--text-lg); font-weight: var(--weight-bold); }
.mini-table { width: 100%; border-collapse: collapse; font-size: var(--text-sm); }
.mini-table th, .mini-table td { padding: 0.5rem 0.75rem; text-align: left; border-bottom: 1px solid var(--color-border); }
.mini-table thead th { font-weight: 700; font-size: var(--text-xs); text-transform: uppercase; letter-spacing: var(--tracking-wide); color: var(--color-text-secondary); }
.mini-table tbody tr:last-child td { border-bottom: none; }

/* =============================================
   EXERCISE 3: VERTICAL RHYTHM
   ============================================= */
.rhythm-article { max-width: 65ch; display: flex; flex-direction: column; }

.rhythm-article h3 {
  font-size: var(--text-xl);
  font-weight: var(--weight-bold);
  margin-top: calc(var(--space-4) * 2);
  margin-bottom: var(--space-3);
}
.rhythm-article h3:first-child { margin-top: 0; }
.rhythm-article p { line-height: var(--leading-normal); }
.rhythm-article p + p { margin-top: var(--space-4); }

/* =============================================
   EXERCISE 4: STYLE GUIDE
   ============================================= */
.style-guide { display: flex; flex-direction: column; gap: 2rem; }
.sg-section { display: flex; flex-direction: column; gap: 1rem; border-bottom: 1px solid var(--color-border); padding-bottom: 1.5rem; }
.sg-section:last-child { border-bottom: none; padding-bottom: 0; }
.sg-section__title { font-size: var(--text-xs); font-weight: var(--weight-bold); text-transform: uppercase; letter-spacing: var(--tracking-wider); color: var(--color-text-secondary); }

.sg-headings { display: flex; flex-direction: column; gap: 0.5rem; }
.sg-item { display: flex; align-items: baseline; gap: 1.5rem; }
.sg-item__meta { font-size: var(--text-xs); color: var(--color-text-secondary); font-family: var(--font-mono); min-width: 10rem; }

.sg-h1 { font-size: var(--text-4xl); letter-spacing: var(--tracking-tighter); font-weight: var(--weight-extrabold); }
.sg-h2 { font-size: var(--text-3xl); letter-spacing: var(--tracking-tight); font-weight: var(--weight-bold); }
.sg-h3 { font-size: var(--text-2xl); font-weight: var(--weight-bold); }
.sg-h4 { font-size: var(--text-xl); font-weight: var(--weight-semibold); }

.sg-lead { font-size: var(--text-lg); line-height: var(--leading-snug); max-width: 65ch; color: var(--color-text); }
.sg-body { font-size: var(--text-base); line-height: var(--leading-normal); max-width: 65ch; margin-top: 0.5rem; }
.sg-caption { font-size: var(--text-sm); color: var(--color-text-secondary); margin-top: 0.5rem; }
